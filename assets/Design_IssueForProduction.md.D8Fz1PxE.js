import{_ as e,c as r,o as t,a4 as o}from"./chunks/framework.Br2U662V.js";const a="/minigame-unity-webgl-transform/assets/issueforproduction1.bg6Fx4u1.png",i="/minigame-unity-webgl-transform/assets/issueforproduction2.DBTokemQ.png",n="/minigame-unity-webgl-transform/assets/issueforproduction3.Bvphipy8.png",l="/minigame-unity-webgl-transform/assets/issueforproduction4.D9LuZDXx.png",q=JSON.parse('{"title":"现网错误日志上报与排查","description":"","frontmatter":{},"headers":[],"relativePath":"Design/IssueForProduction.md","filePath":"Design/IssueForProduction.md"}'),s={name:"Design/IssueForProduction.md"},p=o('<h1 id="现网错误日志上报与排查" tabindex="-1">现网错误日志上报与排查 <a class="header-anchor" href="#现网错误日志上报与排查" aria-label="Permalink to &quot;现网错误日志上报与排查&quot;">​</a></h1><p>当游戏发布到现网时，开发者需要收集玩家遇到的错误、异常等问题并进行排查原因，本文阐述在微信小游戏环境的最佳实践。</p><p>开发者可通过如下三种途径收集到游戏异常数据：</p><ul><li>用户反馈日志</li><li>小游戏实时日志</li><li>JS Error错误日志</li></ul><h2 id="用户反馈日志" tabindex="-1">用户反馈日志 <a class="header-anchor" href="#用户反馈日志" aria-label="Permalink to &quot;用户反馈日志&quot;">​</a></h2><blockquote><p>数据入口：<a href="https://mp.weixin.qq.com" target="_blank" rel="noreferrer">MP平台</a>-用户反馈</p></blockquote><p>当玩家游戏中出现问题时，进行功能反馈将会提交“用户反馈日志“，开发者可以在后台下载到对应数据： <img src="'+a+'" width="800"><img src="'+i+'" width="800"></p><p>该功能需要两个必要条件：</p><ol><li><p>玩家提交反馈</p><ul><li>默认情况下，玩家可通过游戏右上方 &quot;...-反馈与投诉-功能异常&quot; 打开反馈入口。</li><li>除此外，开发者也可通过使用<a href="https://developers.weixin.qq.com/minigame/dev/api/open-api/feedback/wx.createFeedbackButton.html" target="_blank" rel="noreferrer">wx.createFeedbackButton</a>主动创建反馈入口。</li></ul></li><li><p>开发者埋点打印日志</p><ul><li>默认情况下，适配插件将<strong>自动</strong>埋点游戏启动与特殊异常日志</li><li>除此外，开发者看通过C# SDK的LogManagerxxx系列函数进行埋点上报</li></ul></li></ol><p><strong>建议：</strong></p><ul><li>开发者埋点上报购买物品、打开广告、进入关卡等关键信息</li><li>开发者埋点上报异常捕捉的信息</li></ul><h2 id="游戏实时日志" tabindex="-1">游戏实时日志 <a class="header-anchor" href="#游戏实时日志" aria-label="Permalink to &quot;游戏实时日志&quot;">​</a></h2><blockquote><p>数据入口：<a href="https://mp.weixin.qq.com" target="_blank" rel="noreferrer">MP平台</a>-基础数据-游戏日志分析</p></blockquote><p>为帮助开发者更便捷地定位问题，从基础库 <code>3.7.4</code> 开始，我们推出了<a href="https://developers.weixin.qq.com/minigame/dev/guide/runtime/debug/gamelogmanager.html#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8" target="_blank" rel="noreferrer">小游戏实时日志分析功能</a>。开发者可通过 <a href="https://developers.weixin.qq.com/minigame/dev/api/data-analysis/wx.getGameLogManager.html" target="_blank" rel="noreferrer">wx.getGameLogManager</a> 获取游戏日志实例并上报相关游戏日志，日志会进行汇聚并实时上报到小游戏管理后台。</p><p><strong>注意</strong></p><ol><li>相对于用户反馈日志，小游戏实时日志<strong>不需要用户反馈行为</strong>。</li><li>需要开发者通过相关API上报游戏关键节点信息与异常日志。</li></ol><img src="'+n+'" width="800"><h2 id="js-error错误日志" tabindex="-1">JS Error错误日志 <a class="header-anchor" href="#js-error错误日志" aria-label="Permalink to &quot;JS Error错误日志&quot;">​</a></h2><blockquote><p>数据入口：<a href="https://wedata.weixin.qq.com/" target="_blank" rel="noreferrer">We分析</a>-性能质量-JS分析</p></blockquote><p>微信小游戏框架会在顶层监控到任何<strong>未捕捉的JS异常</strong>。 <img src="'+l+'" width="800"></p><p>使用Unity WebGL转换方案的游戏通常会有这几种错误会产生：</p><ul><li>导出选项中禁用异常，当触发异常时将走到js abort相关逻辑，此处将产生异常。</li><li>适配插件自身脚本错误</li><li>其他JS层未捕获异常</li></ul>',22),c=[p];function u(m,g,d,h,_,f){return t(),r("div",null,c)}const k=e(s,[["render",u]]);export{q as __pageData,k as default};
