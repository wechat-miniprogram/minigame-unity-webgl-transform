import{_ as t,c as d,o as a,a4 as e}from"./chunks/framework.Br2U662V.js";const u=JSON.parse('{"title":"Unity WebGL小游戏适配方案性能标准","description":"","frontmatter":{},"headers":[],"relativePath":"Design/performance-standard/PerfMeasure_old.md","filePath":"Design/performance-standard/PerfMeasure_old.md"}'),r={name:"Design/performance-standard/PerfMeasure_old.md"},h=e('<h1 id="unity-webgl小游戏适配方案性能标准" tabindex="-1">Unity WebGL小游戏适配方案性能标准 <a class="header-anchor" href="#unity-webgl小游戏适配方案性能标准" aria-label="Permalink to &quot;Unity WebGL小游戏适配方案性能标准&quot;">​</a></h1><h2 id="为什么需要性能评测标准" tabindex="-1">为什么需要性能评测标准？ <a class="header-anchor" href="#为什么需要性能评测标准" aria-label="Permalink to &quot;为什么需要性能评测标准？&quot;">​</a></h2><p>性能评测标准希望能引导开发者优化相关性能数据，提升用户体验。</p><h2 id="开发者需要关注哪些性能指标" tabindex="-1">开发者需要关注哪些性能指标 <a class="header-anchor" href="#开发者需要关注哪些性能指标" aria-label="Permalink to &quot;开发者需要关注哪些性能指标&quot;">​</a></h2><p>从小游戏的运行周期来看，主要由启动和运行两个阶段产生性能问题。</p><p>启动阶段：启动时长，该数据将显著影响用户打开留存率 运行阶段：内存峰值、流畅度、CPU占用、网络等 其他兼容性问题，包括逻辑异常、黑屏等严重问题</p><h2 id="评测标准细则" tabindex="-1">评测标准细则 <a class="header-anchor" href="#评测标准细则" aria-label="Permalink to &quot;评测标准细则&quot;">​</a></h2><h3 id="性能基线" tabindex="-1">性能基线 <a class="header-anchor" href="#性能基线" aria-label="Permalink to &quot;性能基线&quot;">​</a></h3><p>机型档位</p><table><thead><tr><th>能力</th><th>Android参考机型</th><th>iOS参考机型</th></tr></thead><tbody><tr><td>高档</td><td>⼩⽶10(⾼通骁⻰865)</td><td>iPhone13</td></tr><tr><td>中档</td><td>VIVO S7(⾼通骁⻰765G) 红米k30</td><td>iPhone11</td></tr><tr><td>低档</td><td>OPPO r9s(通骁⻰625)</td><td>iPhone7/8/X</td></tr></tbody></table><p>指标与测量方法</p><p>Unity小游戏的启动可参考<a href="./../Startup.html">启动流程与时序</a></p><table><thead><tr><th></th><th>定义</th><th>测量方法</th></tr></thead><tbody><tr><td>首资源包</td><td>游戏首个data资源文件</td><td>位于导出目录/webgl/md5.webgl.data.unityweb.bin.txt, CDN使用gzip压缩</td></tr><tr><td>WASM代码</td><td>游戏代码压缩包</td><td>位于导出目录/minigame/wasmcode/md5.webgl.wasm.code.unityweb.wasm.br, CDN使用gzip压缩</td></tr><tr><td>核心资源</td><td>除首资源包外进入游戏核心玩法所需的资源量</td><td>业务自定下载，通常为AssetBundle</td></tr><tr><td>callmain</td><td>引擎和首场景(Loading)初始化</td><td>通过timelog,或日志查看“callMain耗时”</td></tr><tr><td>游戏初始化完成</td><td>引擎和手场景完成，出现首个业务场景</td><td>通过timelog, 或日志查看“游戏启动耗时”</td></tr><tr><td>游戏可交互完成</td><td>游戏核心场景完成</td><td>业务自定义，典型地：休闲游戏为核心玩法，RPG游戏为创角</td></tr><tr><td>内存</td><td>内存峰值</td><td>进程内存峰值，测量方法请参考<a href="./../OptimizationMemory.html">优化Unity WebGL的内存</a></td></tr><tr><td>帧率</td><td>核心玩法的平均帧率</td><td>测量5分钟以上游戏核心玩法帧率，取平均值</td></tr></tbody></table><h3 id="评测工具" tabindex="-1">评测工具 <a class="header-anchor" href="#评测工具" aria-label="Permalink to &quot;评测工具&quot;">​</a></h3><p>启动性能： 使用网络模拟工具1MB/s条件，使用Unity适配提供TimeLog窗口或运行日志获取性能数据。</p><p>运行性能: 使用PerfDog测试，PerfDog记录性能数据并上传，取平均值，每种机型测试3组数据再取平均，内存峰值取最大值。</p><h3 id="代码与资源体积" tabindex="-1">代码与资源体积 <a class="header-anchor" href="#代码与资源体积" aria-label="Permalink to &quot;代码与资源体积&quot;">​</a></h3><table><thead><tr><th>能力</th><th>下载量</th></tr></thead><tbody><tr><td>首包资源(gzip压缩后)</td><td>&lt;5M</td></tr><tr><td>WASM代码(br压缩后)</td><td>&lt;5M</td></tr><tr><td>核心玩法资源</td><td>&lt;30MB</td></tr></tbody></table><h3 id="android-评测标准" tabindex="-1">Android 评测标准 <a class="header-anchor" href="#android-评测标准" aria-label="Permalink to &quot;Android 评测标准&quot;">​</a></h3><table><thead><tr><th></th><th>高档机</th><th>中档机</th><th>低档机</th></tr></thead><tbody><tr><td>首资源包下载</td><td>&lt;3s</td><td>&lt;4s</td><td>&lt;5s</td></tr><tr><td>callmain</td><td>&lt;3s</td><td>&lt;5s</td><td>&lt;7s</td></tr><tr><td>游戏初始化完成</td><td>&lt;8s</td><td>&lt;10s</td><td>&lt;12s</td></tr><tr><td>游戏可交互完成</td><td>&lt;12s</td><td>&lt;15s</td><td>&lt;20s</td></tr></tbody></table><p>运行性能</p><table><thead><tr><th></th><th>高档机</th><th>中档机</th><th>低档机</th></tr></thead><tbody><tr><td>内存</td><td>&lt;1.5G</td><td>&lt;1.2G</td><td>&lt;1G</td></tr><tr><td>帧率</td><td>&gt;50</td><td>&gt;40</td><td>&gt;30</td></tr></tbody></table><h3 id="ios-评测标准" tabindex="-1">iOS 评测标准 <a class="header-anchor" href="#ios-评测标准" aria-label="Permalink to &quot;iOS 评测标准&quot;">​</a></h3><table><thead><tr><th></th><th>高档机</th><th>中档机</th><th>低档机</th></tr></thead><tbody><tr><td>首资源包下载</td><td>&lt;3s</td><td>&lt;4s</td><td>&lt;5s</td></tr><tr><td>callmain</td><td>&lt;2s</td><td>&lt;4s</td><td>&lt;5s</td></tr><tr><td>游戏初始化完成</td><td>&lt;6s</td><td>&lt;8s</td><td>&lt;10s</td></tr><tr><td>游戏可交互完成</td><td>&lt;10s</td><td>&lt;12s</td><td>&lt;15s</td></tr></tbody></table><p>运行性能</p><table><thead><tr><th></th><th>高档机</th><th>中档机</th><th>低档机</th></tr></thead><tbody><tr><td>内存</td><td>&lt;1.4G</td><td>&lt;1.2G</td><td>&lt;800MB</td></tr><tr><td>帧率</td><td>&gt;50</td><td>&gt;40</td><td>&gt;30</td></tr></tbody></table>',26),l=[h];function o(i,s,n,b,c,p){return a(),d("div",null,l)}const _=t(r,[["render",o]]);export{u as __pageData,_ as default};
