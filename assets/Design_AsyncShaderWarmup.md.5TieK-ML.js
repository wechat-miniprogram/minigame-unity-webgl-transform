import{_ as a,c as e,o as r,a4 as t}from"./chunks/framework.Br2U662V.js";const i="/minigame-unity-webgl-transform/assets/shader_warmup_01.MSM0f_jn.png",_=JSON.parse('{"title":"Shader 异步 Warmup","description":"","frontmatter":{},"headers":[],"relativePath":"Design/AsyncShaderWarmup.md","filePath":"Design/AsyncShaderWarmup.md"}'),l={name:"Design/AsyncShaderWarmup.md"},n=t('<h1 id="shader-异步-warmup" tabindex="-1">Shader 异步 Warmup <a class="header-anchor" href="#shader-异步-warmup" aria-label="Permalink to &quot;Shader 异步 Warmup&quot;">​</a></h1><p>当游戏中 Shader 变体数量较多时，可以通过 ShaderVariantCollection（以下简称 SVC）进行 Shader 预热，以避免游戏运行过程中因 Shader 编译导致的卡顿。</p><p>然而，当 SVC 中的 Shader 变体数量过多时，SVC 的同步 Warmup 可能会引发较长时间的卡顿。为此，Unity 推出了 Shader 异步 Warmup 功能，微信小游戏平台现已支持该能力。</p><h2 id="平台支持情况" tabindex="-1">平台支持情况 <a class="header-anchor" href="#平台支持情况" aria-label="Permalink to &quot;平台支持情况&quot;">​</a></h2><ul><li>iOS 普通模式暂不支持</li><li>PC 及 iOS 高性能模式支持（系统自带，无需额外配置）</li><li>Android 及 iOS 高性能+ 模式需使用平台能力，开发者需进行相关配置</li></ul><h2 id="异步-shader-warmup-使用条件" tabindex="-1">异步 Shader Warmup 使用条件 <a class="header-anchor" href="#异步-shader-warmup-使用条件" aria-label="Permalink to &quot;异步 Shader Warmup 使用条件&quot;">​</a></h2><ol><li>微信客户端需为 8.0.54 或以上版本</li><li>基础库需为 3.7.4 或以上版本（可在小游戏调试面板第一条日志查看）</li><li>微信客户端 8.0.62 或以上版本默认开启 Shader 异步 Warmup 功能，可跳过 3.1 步骤 <ul><li>3.1：如未满足上述条件，请点击<a href="https://doc.weixin.qq.com/forms/AJEAIQdfAAoACQA2gY2AD41GisQUxXTEf" target="_blank" rel="noreferrer">申请开通 Shader 异步 Warmup 功能</a>，等待审核通过</li></ul></li><li>在小游戏的 <code>game.json</code> 文件中配置 <code>&quot;enableParallelShaderCompile&quot;: true</code><ul><li><img src="'+i+'" width="300"></li></ul></li></ol><h2 id="参考资料" tabindex="-1">参考资料 <a class="header-anchor" href="#参考资料" aria-label="Permalink to &quot;参考资料&quot;">​</a></h2><ul><li><a href="https://docs.unity3d.com/2021.3/Documentation/ScriptReference/ShaderVariantCollection.html" target="_blank" rel="noreferrer">Unity ShaderVariantCollection</a></li><li><a href="https://docs.unity.cn/cn/tuanjiemanual/Manual/WeixinAsyncShaderWarmup.html" target="_blank" rel="noreferrer">Unity Shader 异步 Warmup（微信小游戏）</a></li></ul>',9),o=[n];function d(h,s,c,u,m,p){return r(),e("div",null,o)}const f=a(l,[["render",d]]);export{_ as __pageData,f as default};
