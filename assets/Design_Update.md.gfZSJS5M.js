import{_ as a,c as e,o as t,a4 as r}from"./chunks/framework.Br2U662V.js";const o="/minigame-unity-webgl-transform/assets/update-dialog.6NED8STH.png",g=JSON.parse('{"title":"版本更新","description":"","frontmatter":{},"headers":[],"relativePath":"Design/Update.md","filePath":"Design/Update.md"}'),n={name:"Design/Update.md"},i=r('<h1 id="版本更新" tabindex="-1">版本更新 <a class="header-anchor" href="#版本更新" aria-label="Permalink to &quot;版本更新&quot;">​</a></h1><h2 id="代码更新" tabindex="-1">代码更新 <a class="header-anchor" href="#代码更新" aria-label="Permalink to &quot;代码更新&quot;">​</a></h2><p>请阅读文档，了解小游戏的<a href="https://developers.weixin.qq.com/minigame/dev/guide/runtime/update-mechanism.html" target="_blank" rel="noreferrer">更新机制</a></p><h2 id="更新策略" tabindex="-1">更新策略： <a class="header-anchor" href="#更新策略" aria-label="Permalink to &quot;更新策略：&quot;">​</a></h2><h3 id="_1-静默更新-默认方式" tabindex="-1">1. 静默更新（默认方式） <a class="header-anchor" href="#_1-静默更新-默认方式" aria-label="Permalink to &quot;1. 静默更新（默认方式）&quot;">​</a></h3><p>这种形式和APP版本类似，比如应用市场自动更新。游戏发新版本后，<strong>在打开小游戏前，会静默更新到最新版本</strong>。 但小游戏包体的更新机制和APP不同，开发者在管理后台发布新版本的小游戏之后，<strong>无法立刻影响到所有现网用户</strong>，如果某个用户本地有小程序的历史版本，此时打开的可能还是旧版本，<strong>最差情况下，也在发布之后 24 小时之内下发新版本信息到用户</strong>。</p><blockquote><p>缺点：更新不及时，依然可能体验到旧版本内容，需要注意保证旧版本资源可访问。</p></blockquote><p>适合于对版本一致性要求不高的游戏使用</p><h3 id="_2-强制更新" tabindex="-1">2. 强制更新 <a class="header-anchor" href="#_2-强制更新" aria-label="Permalink to &quot;2. 强制更新&quot;">​</a></h3><h4 id="_2-1-实时检测更新-updatemanager" tabindex="-1">2.1 实时检测更新(UpdateManager) <a class="header-anchor" href="#_2-1-实时检测更新-updatemanager" aria-label="Permalink to &quot;2.1 实时检测更新(UpdateManager)&quot;">​</a></h4><p>戏运行期间检查是否有新版本，<strong>当新版本可用后，提示用户重启更新</strong></p><img src="'+o+'" width="320"><p>转换插件有提供配置来自动使用这项能力，通过勾选【导出面板-更多配置项-Project Conf】中的配置<code>needCheckUpdate</code>。</p><blockquote><p>缺点：由于重启后，可能涉及资源下载，可能导致用户流失。</p></blockquote><h4 id="_2-2-设置最低可用版本" tabindex="-1">2.2 设置最低可用版本 <a class="header-anchor" href="#_2-2-设置最低可用版本" aria-label="Permalink to &quot;2.2 设置最低可用版本&quot;">​</a></h4><ul><li>如果希望用户始终打开最新版本，可通过<code>mp后台-设置-基本设置-小程序最低可用版本</code>，修改为最新版本</li></ul><h2 id="资源更新" tabindex="-1">资源更新 <a class="header-anchor" href="#资源更新" aria-label="Permalink to &quot;资源更新&quot;">​</a></h2><p>请查看<a href="./DataCDN.html">资源部署-资源更新说明</a></p>',18),d=[i];function s(l,h,c,p,_,u){return t(),e("div",null,d)}const b=a(n,[["render",s]]);export{g as __pageData,b as default};
